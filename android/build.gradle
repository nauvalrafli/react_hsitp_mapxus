buildscript {
  ext {
    buildToolsVersion = "36.0.0"
    minSdkVersion = 24
    compileSdkVersion = 35
    targetSdkVersion = 35
    ndkVersion = "27.1.12297006"
    kotlinVersion = "2.0.20" // or 2.1.0 when stable
  }
  repositories {
    google()
    mavenCentral()
    gradlePluginPortal()
  }
  dependencies {
    classpath("com.android.tools.build:gradle:8.5.2")
    classpath("com.facebook.react:react-native-gradle-plugin")
    classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion")
    classpath("org.jetbrains.kotlin:compose-compiler-gradle-plugin:$kotlinVersion")
  }
}

apply plugin: "com.android.library"
apply plugin: "org.jetbrains.kotlin.android"
apply plugin: "org.jetbrains.kotlin.plugin.compose"
apply plugin: "com.facebook.react"
apply plugin: "kotlin-parcelize"

def getExtOrIntegerDefault(name) {
  return rootProject.ext.has(name) ? rootProject.ext.get(name) : (project.properties["MapxusHsitp_" + name]).toInteger()
}

android {
  namespace "com.mapxushsitp"

  compileSdkVersion 35
  compileSdk 35

  defaultConfig {
    minSdkVersion 24
    targetSdkVersion 34
  }

  buildFeatures {
    buildConfig true
    compose true
  }

  buildTypes {
    release {
      minifyEnabled false
    }
  }

  composeOptions {
    kotlinCompilerExtensionVersion = "1.5.10"
  }

  lintOptions {
    disable "GradleCompatible"
  }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }

  sourceSets {
    main {
      java.srcDirs += [
        "generated/java",
        "generated/jni"
      ]
    }
  }
}

repositories {
  mavenCentral()
  google()
}

def kotlin_version = "2.0.20"

dependencies {
  implementation "com.facebook.react:react-android"
  implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"

  implementation(platform("androidx.compose:compose-bom:2024.10.00"))
  // and ui library
  implementation("androidx.compose.material3:material3")
  //View Model
  implementation("androidx.lifecycle:lifecycle-viewmodel-compose:2.8.0")
  // OPTIONAL - Android Studio Preview support
  implementation("androidx.compose.ui:ui-tooling-preview")
  implementation("androidx.navigation:navigation-fragment-ktx:2.9.5")
  implementation("androidx.navigation:navigation-ui-ktx:2.9.5")
  implementation("androidx.navigation:navigation-dynamic-features-fragment:2.9.5")
  debugImplementation("androidx.compose.ui:ui-tooling")

  // Mapxus Android SDK - using placeholder for now
  implementation "com.mapxus.map:mapxusmap:11.2.1"
  implementation "com.mapxus.positioning:positioning:2.3.2"

  // Google Maps Utils for SphericalUtil
  implementation("com.google.maps.android:android-maps-utils:3.8.2")

  // Permission State
  implementation("com.google.accompanist:accompanist-permissions:0.37.3")

  implementation("io.github.sceneview:arsceneview:2.3.0")
  implementation("androidx.fragment:fragment-ktx:1.8.8")

  // rememberSystemUIController
  implementation("com.google.accompanist:accompanist-systemuicontroller:0.34.0")

  // Constraint Layout
  implementation("androidx.constraintlayout:constraintlayout-compose:1.1.1")

  // Fragment View Model on Activity and Fragment
  implementation("androidx.fragment:fragment-ktx:1.4.0")

  // GIF Image
  implementation("com.google.accompanist:accompanist-drawablepainter:0.35.0-alpha")

  // Google Material Icons
  implementation("androidx.compose.material:material-icons-extended")
  implementation("androidx.compose.material:material")
  implementation("androidx.compose.material3:material3")

  implementation("androidx.navigation:navigation-compose:2.9.0")
  implementation 'androidx.compose.ui:ui:1.9.1'
}
